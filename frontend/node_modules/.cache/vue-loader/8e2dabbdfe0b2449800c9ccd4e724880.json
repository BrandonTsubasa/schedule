{"remainingRequest":"/Users/tsubasa/project/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tsubasa/project/frontend/src/views/user/User.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tsubasa/project/frontend/src/views/user/User.vue","mtime":1630542905882},{"path":"/Users/tsubasa/project/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tsubasa/project/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tsubasa/project/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tsubasa/project/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB0b3RhbEFwaXMgZnJvbSAiQC9jb21tb24vdG90YWxBcGlzLmpzIjsKaW1wb3J0IHRvdGFsUGFnZXMgZnJvbSAiQC9jb21tb24vdG90YWxQYWdlcy5qcyI7CmltcG9ydCBCdXR0b25UZXh0IGZyb20gIkAvY29tcG9uZW50cy9idXR0b24vQnV0dG9uVGV4dC52dWUiOwppbXBvcnQgd29yZHMgZnJvbSAiQC93b3Jkcy93b3Jkcy5qc29uIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVXNlciIsCiAgZGF0YTogKCkgPT4gKHsKICAgIHdvcmRzOiB3b3JkcywKICAgIHNlYXJjaDogIiIsCiAgICB1c2VyRGF0YXM6IFtdLAogICAgc2VsZWN0ZWRVc2VyOiBbXSwKICAgIGhlYWRlcnM6IFsKICAgICAgeyB0ZXh0OiAi44Om44O844K244O85ZCNIiwgdmFsdWU6ICJuYW1lIiB9LAogICAgICB7IHRleHQ6ICLjg6Hjg7zjg6vjgqLjg4njg6zjgrkiLCB2YWx1ZTogImVtYWlsIiB9LAogICAgICB7IHRleHQ6ICLliYrpmaQiLCB2YWx1ZTogImRlbGV0ZSIsIHNvcnRhYmxlOiBmYWxzZSB9LAogICAgXSwKICAgIGNvbmZpcm06IGZhbHNlLAogICAgbG9naW5Vc2VyOiBudWxsLAogIH0pLAogIGNvbXBvbmVudHM6IHsKICAgIEJ1dHRvblRleHQsCiAgfSwKICBtZXRob2RzOiB7CiAgICBlZGl0VXNlck5hbWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2godG90YWxQYWdlcy51c2VyU2V0dGluZ3MoKS5Vc2VyTmFtZUVkaXQpOwogICAgfSwKICAgIGVkaXRVc2VyRW1haWw6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2godG90YWxQYWdlcy51c2VyU2V0dGluZ3MoKS5Vc2VyRW1haWxFZGl0KTsKICAgIH0sCiAgICBlZGl0VXNlclBhc3N3b3JkOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHRvdGFsUGFnZXMudXNlclNldHRpbmdzKCkuVXNlclBhc3N3b3JkRWRpdCk7CiAgICB9LAogICAgZ2V0VXNlcnM6IGZ1bmN0aW9uICgpIHsKICAgICAgYXhpb3MoewogICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgdXJsOiB0b3RhbEFwaXMuYXBpcygpLnVzZXJMaXN0LAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246IGBKV1QgJHtsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiSldUIil9YCwKICAgICAgICB9LAogICAgICB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgdGhpcy51c2VyRGF0YXMgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgfSwKICAgIGRpYWxvZ0RlbGV0ZTogZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgdGhpcy5zZWxlY3RlZFVzZXIgPSBpdGVtOwogICAgICB0aGlzLmNvbmZpcm0gPSB0cnVlOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuY29uZmlybSA9IGZhbHNlOwogICAgfSwKICAgIGRlbGV0ZUNvbmZpcm06IGZ1bmN0aW9uICgpIHsKICAgICAgY29uc3QgaWQgPSB0aGlzLnNlbGVjdGVkVXNlci5pZDsKICAgICAgY29uc29sZS5sb2coaWQpOwogICAgICBheGlvcyh7CiAgICAgICAgbWV0aG9kOiAiZGVsZXRlIiwKICAgICAgICB1cmw6IGAke3RvdGFsQXBpcy5hcGlzKCkudXNlckRlbGV0ZSArIGlkfS9gLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246IGBKV1QgJHtsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiSldUIil9YCwKICAgICAgICB9LAogICAgICB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgdGhpcy5nZXRVc2VycygpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgICB0aGlzLmNvbmZpcm0gPSBmYWxzZTsKICAgIH0sCiAgICB0b2tlbkNoZWNrOiBmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIkpXVCIpOwogICAgICBpZiAoIXRva2VuKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2godG90YWxQYWdlcy5tZW51UGFnZXMoKS5TaWduSW4pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudG9rZW5WZXJpZnkoKTsKICAgICAgfQogICAgfSwKICAgIHRva2VuVmVyaWZ5OiBmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIkpXVCIpOwogICAgICBheGlvcyh7CiAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgdXJsOiB0b3RhbEFwaXMuYXBpcygpLnRva2VuVmVyaWZ5LAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIHRva2VuOiB0b2tlbiwKICAgICAgICB9LAogICAgICB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgdGhpcy50b2tlblJlZnJlc2goKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHRvdGFsUGFnZXMubWVudVBhZ2VzKCkuU2lnbkluKTsKICAgICAgICB9KTsKICAgIH0sCiAgICB0b2tlblJlZnJlc2g6IGZ1bmN0aW9uICgpIHsKICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiSldUIik7CiAgICAgIGF4aW9zKHsKICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICB1cmw6IHRvdGFsQXBpcy5hcGlzKCkudG9rZW5SZWZyZXNoLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIHRva2VuOiB0b2tlbiwKICAgICAgICB9LAogICAgICB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2godG90YWxQYWdlcy5tZW51UGFnZXMoKS5TaWduSW4pOwogICAgICAgIH0pOwogICAgfSwKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuZ2V0VXNlcnMoKTsKICB9LAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnRva2VuQ2hlY2soKTsKICB9LAp9Owo="},{"version":3,"sources":["User.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"User.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\n  <div id=\"User\">\n    <v-container class=\"mt-5\">\n      <h3>{{ words.user.title }}</h3>\n      <v-row class=\"mt-5\">\n        <v-col cols=\"4\">\n          <div @click=\"editUserName\">\n            <ButtonText :message=\"words.user.userName\"></ButtonText>\n          </div>\n        </v-col>\n\n        <v-col cols=\"4\">\n          <div @click=\"editUserEmail\">\n            <ButtonText :message=\"words.user.mail\"></ButtonText>\n          </div>\n        </v-col>\n\n        <v-col cols=\"4\">\n          <div @click=\"editUserPassword\">\n            <ButtonText :message=\"words.user.password\"></ButtonText>\n          </div>\n        </v-col>\n      </v-row>\n    </v-container>\n\n    <v-divider></v-divider>\n\n    <v-container>\n      <v-row>\n        <v-col>\n          <v-card class=\"py-5\">\n            <v-card-title class=\"font-weight-bold\">\n              <h3>{{ words.user.userList }}</h3>\n              <v-spacer></v-spacer>\n              <v-text-field\n                v-model=\"search\"\n                append-icon=\"mdi-magnify\"\n                :label=\"words.user.search\"\n                single-line\n                hide-detail\n              ></v-text-field>\n            </v-card-title>\n            <v-data-table\n              :headers=\"headers\"\n              :items=\"userDatas\"\n              :search=\"search\"\n              locale=\"ja\"\n            >\n              <template v-slot:[`item.delete`]=\"{ item }\">\n                <v-btn\n                  small\n                  class=\"red lighten-1 font-weight-bold white--text\"\n                  @click=\"dialogDelete(item)\"\n                >\n                  {{ words.user.delete }}\n                </v-btn>\n                <v-dialog v-model=\"confirm\" max-width=\"500px\">\n                  <v-card>\n                    <v-card-title> {{ words.user.confirm }} </v-card-title>\n                    <v-card-actions>\n                      <v-spacer></v-spacer>\n                      <v-btn @click=\"close\">{{ words.user.close }}</v-btn>\n                      <v-btn @click=\"deleteConfirm\" class=\"red lighten-1 white--text\">{{\n                        words.user.delete\n                      }}</v-btn>\n                    </v-card-actions>\n                  </v-card>\n                </v-dialog>\n              </template>\n            </v-data-table>\n          </v-card>\n        </v-col>\n      </v-row>\n    </v-container>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport totalApis from \"@/common/totalApis.js\";\nimport totalPages from \"@/common/totalPages.js\";\nimport ButtonText from \"@/components/button/ButtonText.vue\";\nimport words from \"@/words/words.json\";\n\nexport default {\n  name: \"User\",\n  data: () => ({\n    words: words,\n    search: \"\",\n    userDatas: [],\n    selectedUser: [],\n    headers: [\n      { text: \"ユーザー名\", value: \"name\" },\n      { text: \"メールアドレス\", value: \"email\" },\n      { text: \"削除\", value: \"delete\", sortable: false },\n    ],\n    confirm: false,\n    loginUser: null,\n  }),\n  components: {\n    ButtonText,\n  },\n  methods: {\n    editUserName: function () {\n      this.$router.push(totalPages.userSettings().UserNameEdit);\n    },\n    editUserEmail: function () {\n      this.$router.push(totalPages.userSettings().UserEmailEdit);\n    },\n    editUserPassword: function () {\n      this.$router.push(totalPages.userSettings().UserPasswordEdit);\n    },\n    getUsers: function () {\n      axios({\n        method: \"get\",\n        url: totalApis.apis().userList,\n        headers: {\n          Authorization: `JWT ${localStorage.getItem(\"JWT\")}`,\n        },\n      })\n        .then((response) => {\n          console.log(response);\n          this.userDatas = response.data;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    dialogDelete: function (item) {\n      this.selectedUser = item;\n      this.confirm = true;\n    },\n    close: function () {\n      this.confirm = false;\n    },\n    deleteConfirm: function () {\n      const id = this.selectedUser.id;\n      console.log(id);\n      axios({\n        method: \"delete\",\n        url: `${totalApis.apis().userDelete + id}/`,\n        headers: {\n          Authorization: `JWT ${localStorage.getItem(\"JWT\")}`,\n        },\n      })\n        .then((response) => {\n          console.log(response);\n          this.getUsers();\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n      this.confirm = false;\n    },\n    tokenCheck: function () {\n      const token = localStorage.getItem(\"JWT\");\n      if (!token) {\n        this.$router.push(totalPages.menuPages().SignIn);\n      } else {\n        this.tokenVerify();\n      }\n    },\n    tokenVerify: function () {\n      const token = localStorage.getItem(\"JWT\");\n      axios({\n        method: \"post\",\n        url: totalApis.apis().tokenVerify,\n        data: {\n          token: token,\n        },\n      })\n        .then((response) => {\n          console.log(response);\n          this.tokenRefresh();\n        })\n        .catch((error) => {\n          console.log(error);\n          this.$router.push(totalPages.menuPages().SignIn);\n        });\n    },\n    tokenRefresh: function () {\n      const token = localStorage.getItem(\"JWT\");\n      axios({\n        method: \"post\",\n        url: totalApis.apis().tokenRefresh,\n        data: {\n          token: token,\n        },\n      })\n        .then((response) => {\n          console.log(response);\n        })\n        .catch((error) => {\n          console.log(error);\n          this.$router.push(totalPages.menuPages().SignIn);\n        });\n    },\n  },\n  mounted: function () {\n    this.getUsers();\n  },\n  beforeMount: function () {\n    this.tokenCheck();\n  },\n};\n</script>\n<style scoped>\n#User {\n  width: 100%;\n  height: 100%;\n}\n#btnColor {\n  border-color: #0474bd;\n  background-color: #049cfc;\n  color: white;\n}\n</style>\n"]}]}